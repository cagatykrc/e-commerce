<%- include('../partials/adminpanelheader.ejs') %>
<%- include('./controlPanel.ejs') %>
<div class="container px-4 lg:px-8 mt-8">
  <h2 class="text-center text-3xl font-semibold text-slate-950 mb-6">Kullanıcı Bilgilerini Güncelle</h2>

  <div class="max-w-3xl mx-auto bg-white shadow-lg rounded-lg p-6">
    <!-- Kullanıcı Güncelleme Formu -->
    <form action="/admin/kullanici/<%= user.user_id %>/update" method="post">
      
      <!-- Kullanıcı ID -->
      <div class="mb-4">
        <label for="userId" class="block text-lg font-medium text-slate-950">Kullanıcı ID</label>
        <input type="text" class="w-full p-3 border border-slate-300 rounded-lg text-slate-950 bg-slate-50" id="userId" name="userId" value="<%= user.user_id %>" readonly>
      </div>

      <!-- Kullanıcı Adı Güncelleme -->
      <div class="mb-4">
        <label for="newUsername" class="block text-lg font-medium text-slate-950">Yeni Kullanıcı Adı</label>
        <input type="text" class="w-full p-3 border border-slate-300 rounded-lg text-slate-950 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-600" id="newUsername" name="newUsername" value="<%= user.username %>" >
      </div>

      <!-- Email Güncelleme -->
      <div class="mb-4">
        <label for="newEmail" class="block text-lg font-medium text-slate-950">Yeni Email</label>
        <input type="email" class="w-full p-3 border border-slate-300 rounded-lg text-slate-950 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-600" id="newEmail" name="newEmail" value="<%= user.email %>" required>
      </div>

      <!-- Ad Güncelleme -->
      <div class="mb-4">
        <label for="newFirstName" class="block text-lg font-medium text-slate-950">Yeni Ad</label>
        <input type="text" class="w-full p-3 border border-slate-300 rounded-lg text-slate-950 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-600" id="newFirstName" name="newFirstName" value="<%= user.first_name %>" required>
      </div>

      <!-- Soyad Güncelleme -->
      <div class="mb-4">
        <label for="newLastName" class="block text-lg font-medium text-slate-950">Yeni Soyad</label>
        <input type="text" class="w-full p-3 border border-slate-300 rounded-lg text-slate-950 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-600" id="newLastName" name="newLastName" value="<%= user.last_name %>" required>
      </div>

      <!-- Yetki Güncelleme -->
      <div class="mb-4">
        <label for="newRole" class="block text-lg font-medium text-slate-950">Yeni Yetki</label>
        <select class="w-full p-3 border border-slate-300 rounded-lg text-slate-950 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-600" id="newRole" name="newRole">
          <option value="admin" <%= (user.role === 'admin') ? 'selected' : '' %>>Admin</option>
          <option value="user" <%= (user.role === 'user') ? 'selected' : '' %>>Kullanıcı</option>
        </select>
      </div>

      <!-- Güncelleme Butonu -->
      <button type="submit" class="w-full py-3 mt-4 text-white bg-slate-950 rounded-lg hover:bg-slate-800 transition duration-300 focus:outline-none focus:ring-2 focus:ring-slate-600">Güncelle</button>
    </form>

    <!-- Geri Butonu -->
    <a href="/admin/kullaniciyonetim/">
      <button class="w-full py-3 mt-4 text-slate-950 bg-gray-300 rounded-lg hover:bg-gray-200 transition duration-300">Geri</button>
    </a>
  </div>
</div>
